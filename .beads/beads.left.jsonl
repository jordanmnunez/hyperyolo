{"id":"hyperyolo-079","content_hash":"377ab73b1768acad7440c0254b455c309782facb9b3cbf893ce8692d9d93aa14","title":"Research CLI Installation Methods","description":"Document how users install each underlying CLI.\n\n## Scope\nFor helpful error messages and README, document installation:\n\n1. **Claude Code CLI**\n   - Installation method (npm? binary? Anthropic website?)\n   - Auth setup process\n   - How to verify installation\n   - Common installation issues\n\n2. **Codex CLI**\n   - Installation method\n   - Is it public? Requires GitHub Copilot?\n   - Auth setup\n   - Verification command\n\n3. **Gemini CLI**\n   - npm global install: npm i -g @google/gemini-cli\n   - npx usage: npx @google/gemini-cli\n   - Homebrew: brew install gemini-cli\n   - Auth setup (Google account?)\n   - Verification command\n\n4. **Error Messages**\n   For each CLI not found, provide helpful message:\n   \"Claude CLI not found. Install it with: [command]\n    Then authenticate with: [auth command]\n    More info: [link]\"\n\n## Deliverables\n- Document installation in README\n- Create helpful error messages per CLI\n- Add to CLI verification docs\n- Include in onboarding/quickstart","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:31:37.219367-07:00","updated_at":"2025-12-09T14:31:37.219367-07:00","source_repo":".","labels":["documentation","research"],"dependencies":[{"issue_id":"hyperyolo-079","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.936565-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-0x0","content_hash":"a1b9178a6e811bd5eea9a82bff3ab80b4138f37411f7b363260525ef16ce7c75","title":"Deep CLI Verification: Gemini CLI","description":"Exhaustive verification of Gemini CLI behavior, output formats, and session management.\n\n## Scope\nPerform comprehensive analysis of Gemini CLI by:\n\n1. **Source Code Analysis**\n   - Read Gemini CLI source at github.com/google-gemini/gemini-cli\n   - Document session storage format (~/.gemini/tmp/\u003cproject-hash\u003e/)\n   - Understand init event structure in stream-json\n   - Identify tool authorization mechanism\n\n2. **CLI Manual Review**\n   - Run `gemini --help` and document all flags\n   - Document `-p` (headless mode) behavior\n   - Document `-y` / `--yolo` flag\n   - Document `-r` / `--resume` flag\n   - Test `gemini --version`\n\n3. **Output Format Testing**\n   - Test `-o json` / `--output-format json`\n   - Test `-o stream-json` / `--output-format stream-json`\n   - Capture exact init event JSON schema: {\"type\":\"init\",\"session_id\":\"...\"}\n   - Document all event types in stream-json mode\n\n4. **Session Resume Verification**\n   - Test `-r \u003csession-id\u003e` with valid session\n   - Test with invalid/expired session\n   - Verify session storage location and format\n   - Test interactive checkpoint commands if applicable\n\n5. **CRITICAL: Tool Authorization in Headless Mode**\n   - Research says: \"-p mode cannot authorize tools\"\n   - VERIFY: Does `-p -y` actually allow tool execution?\n   - Test file writes, bash commands in `-p -y` mode\n   - If tools don't work, document the limitation clearly\n   - Find workarounds if they exist\n\n6. **Sandbox Mode**\n   - Test `--sandbox` flag behavior\n   - Verify YOLO mode auto-enables Docker sandbox\n   - Test behavior when Docker is not available\n   - Document sandbox limitations\n\n7. **Other Flags**\n   - Test `--allowed-tools` restrictions\n   - Test `--approval-mode yolo|auto_edit|default`\n   - Test `--checkpointing` for rollback\n   - Test `-a / --all-files` context inclusion\n\n8. **Edge Cases**\n   - Test behavior with no TTY\n   - Test with FORCE_COLOR / NO_COLOR\n   - Test rate limiting (1000 req/day free tier)\n   - Test with invalid API key\n\n## Deliverables\n- Update docs/research/cli-verification/gemini.md with all findings\n- CRITICAL: Document whether -p mode can actually use tools\n- Create JSON schema for stream-json events\n- Document exact session ID extraction pattern","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-09T14:26:53.711201-07:00","updated_at":"2025-12-09T14:49:53.31487-07:00","closed_at":"2025-12-09T14:49:53.31487-07:00","source_repo":".","labels":["blocking","cli","deep-research","gemini","pre-implementation","research","source-code-review","verification"],"dependencies":[{"issue_id":"hyperyolo-0x0","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.250174-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-2up","content_hash":"62d0e55288c4a77b4439beac4dc3015f3f9f45e6538733e90d541d520e42d4c9","title":"Pre-Implementation Research \u0026 Planning","description":"Complete all research and planning tasks before implementation begins.\n\n## Overview\nThis epic tracks all pre-implementation work identified during the documentation analysis.\nThese tasks must be completed to de-risk the implementation and ensure correct assumptions.\n\n## Critical Path Items\n1. CLI Verification (P0) - Must verify all three CLIs work as documented\n2. Session Storage Decision (P0) - Must decide JSON vs SQLite\n3. Version Compatibility (P1) - Must establish baseline versions\n\n## Themes\n- **CLI Verification**: Deep dive into each CLI's actual behavior\n- **Architecture Decisions**: Resolve open questions from research\n- **Documentation**: Fill gaps identified in analysis\n- **Version Management**: Establish compatibility strategy\n\n## Success Criteria\n- All CLI behaviors verified with real testing\n- All architecture decisions documented with rationale\n- Documentation gaps filled\n- Version compatibility matrix established\n- Ready to begin implementation","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-09T14:31:49.888051-07:00","updated_at":"2025-12-09T14:31:49.888051-07:00","source_repo":".","labels":["planning","research"]}
{"id":"hyperyolo-519","content_hash":"fa7ac250773c4da45018e2522ce2cf996bc626e64b983caad770645960ba4fc6","title":"Implement Subprocess Timeout Handling","description":"Design and implement timeout handling for subprocess execution.\n\n## Context\nResearch notes that Claude CLI has \"known bugs with intermittent hanging in stream-json mode\".\nAll subprocess calls need timeout protection.\n\n## Scope\n\n1. **Timeout Configuration**\n   - Default timeout value (suggestion: 30 minutes for long tasks?)\n   - Per-backend timeout configuration\n   - User-overridable via flag or config\n   - No timeout option for truly long-running tasks\n\n2. **Timeout Detection**\n   - Detect no output for N seconds (activity timeout)\n   - Detect total runtime exceeded (absolute timeout)\n   - Which type to use? Both?\n\n3. **Timeout Response**\n   - Send SIGTERM first, wait, then SIGKILL\n   - Save partial session state if possible\n   - Report timeout clearly to user\n   - Suggest retry or check CLI directly\n\n4. **Implementation Pattern**\n   - Use execa timeout option\n   - Or implement with AbortController\n   - Or use Promise.race with timer\n   - Document chosen approach\n\n5. **Testing**\n   - Test timeout triggers correctly\n   - Test graceful vs force kill\n   - Test session state preservation\n\n## Deliverables\n- Implement timeout in executor.ts\n- Add timeout config to options\n- Document timeout behavior\n- Add tests for timeout scenarios","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:28:55.81251-07:00","updated_at":"2025-12-09T14:28:55.81251-07:00","source_repo":".","labels":["architecture","implementation"],"dependencies":[{"issue_id":"hyperyolo-519","depends_on_id":"hyperyolo-p13","type":"blocks","created_at":"2025-12-09T14:28:55.814189-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-519","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.523168-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-5od","content_hash":"07187165b93c570082685da86cf182e0221087d0e5e6f71f681a4b40f86831c9","title":"Design Session Cleanup and Expiration","description":"Design strategy for session cleanup and expiration.\n\n## Scope\n\n1. **Session Lifespan Questions**\n   - How long do underlying CLIs keep session data?\n   - When does a session become unresumable?\n   - Should HyperYOLO track this?\n\n2. **Cleanup Strategy**\n   Options:\n   - Auto-cleanup sessions older than N days\n   - Manual cleanup command (hyperyolo sessions clean)\n   - Never cleanup, let user manage\n   - Cleanup on startup if session storage too large\n\n3. **Session Validation**\n   - Before resume, check if session still valid?\n   - Or just try and handle error?\n   - Cache validation results?\n\n4. **Storage Limits**\n   - Max sessions to store?\n   - Max storage size?\n   - Warn user when approaching limits?\n\n5. **User Commands**\n   - hyperyolo sessions list\n   - hyperyolo sessions clean [--older-than 30d]\n   - hyperyolo sessions show \u003cid\u003e\n   - hyperyolo sessions delete \u003cid\u003e\n\n## Deliverables\n- Document session lifecycle in architecture docs\n- Define cleanup strategy\n- Define session commands (future feature list)\n- Add considerations to PRD","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:31:09.98399-07:00","updated_at":"2025-12-09T14:31:09.98399-07:00","source_repo":".","labels":["architecture"],"dependencies":[{"issue_id":"hyperyolo-5od","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.866728-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-60t","content_hash":"100060100ac89ec070eb266cbd1868dfa2ea41c0895d21182e10332989212b84","title":"Deep CLI Verification: Claude Code","description":"Exhaustive verification of Claude Code CLI behavior, output formats, and session management.\n\n## Scope\nPerform comprehensive analysis of Claude Code CLI by:\n\n1. **Source Code Analysis**\n   - Read Claude Code source repository (if public) or decompile/analyze binary\n   - Document internal session storage format and location\n   - Identify all command-line flags and their behaviors\n   - Find session ID generation logic and format\n\n2. **CLI Manual Review**\n   - Run `claude --help` and document all flags\n   - Run `claude \u003csubcommand\u003e --help` for each subcommand\n   - Test `claude --version` and document version format\n\n3. **Output Format Testing**\n   - Test `--output-format json` and capture full schema\n   - Test `--output-format stream-json` and document event types\n   - Capture exact session_id field location in JSON output\n   - Test plain text output and identify session ID patterns\n\n4. **Session Resume Verification**\n   - Test `--resume \u003cid\u003e` with valid session\n   - Test `--resume` with invalid/expired session (document error)\n   - Test `--continue` flag behavior\n   - Verify session storage location (~/.claude/ or similar)\n\n5. **YOLO Mode Verification**\n   - Test `--dangerously-skip-permissions` actually skips all prompts\n   - Document any prompts that still appear\n   - Test with file writes, bash commands, etc.\n\n6. **Edge Cases**\n   - Test behavior with no TTY (piped input)\n   - Test with FORCE_COLOR=1 and NO_COLOR=1\n   - Test timeout/hanging behavior (document the known bug)\n   - Test with invalid API key (capture error format)\n\n## Deliverables\n- Update docs/research/cli-verification/claude.md with all findings\n- Create JSON schema file for stream-json output\n- Document exact regex patterns for session ID extraction\n- List all known limitations and bugs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-09T14:26:15.932253-07:00","updated_at":"2025-12-09T14:59:37.135533-07:00","closed_at":"2025-12-09T14:59:37.135533-07:00","source_repo":".","labels":["blocking","claude","cli","deep-research","pre-implementation","research","source-code-review","verification"],"dependencies":[{"issue_id":"hyperyolo-60t","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.125823-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-81q","content_hash":"9ff2c1bd07bd17470fd07f2d6730ee102fc4d6bf77b78d5decc26b7876c05b7b","title":"Research Terminal Capability Detection","description":"Research how to detect terminal capabilities for graceful degradation.\n\n## Scope\n\n1. **Color Support Detection**\n   - Detect TrueColor (16M colors) support\n   - Detect 256-color support\n   - Detect 16-color support\n   - Detect no-color terminals\n\n2. **Environment Variables**\n   - TERM, COLORTERM detection\n   - NO_COLOR standard\n   - FORCE_COLOR standard\n   - CI environment detection\n\n3. **Unicode Support**\n   - Detect box-drawing character support\n   - Detect emoji support\n   - Fallback to ASCII alternatives\n\n4. **Terminal Width**\n   - Detect terminal columns\n   - Handle narrow terminals (\u003c80)\n   - Handle terminal resize (SIGWINCH)\n\n5. **Libraries**\n   - Research supports-color\n   - Research chalk's detection\n   - Research terminal-kit capabilities\n   - Choose approach for HyperYOLO\n\n6. **Graceful Degradation Strategy**\n   Define fallback chain:\n   - Full color + emoji + box drawing\n   - 256 color + ASCII boxes\n   - 16 color + ASCII\n   - No color plain text\n\n## Deliverables\n- Create docs/research/terminal-capabilities.md\n- Document detection approach\n- Define fallback chain\n- Add to UI implementation requirements","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:30:32.076376-07:00","updated_at":"2025-12-09T14:30:32.076376-07:00","source_repo":".","labels":["implementation","research"],"dependencies":[{"issue_id":"hyperyolo-81q","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.761784-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-9hk","content_hash":"13ea4767cd7f8cac8464c66882501a5e205bf3198146aa5aa1b21bee59eb3e4c","title":"Document TypeScript Stack Decision Rationale","description":"Document why TypeScript was chosen over Go (which analysis.md recommended).\n\n## Context\nThe research analysis (analysis.md) recommended Go as the synthesis choice:\n\u003e \"Language: Go (Claude's recommendation) - Single binary distribution is a killer feature\"\n\nHowever, the PRD and CLAUDE.md specify TypeScript. This decision is not documented.\n\n## Scope\n\n1. **Document the Decision**\n   - Why TypeScript over Go?\n   - What trade-offs were accepted?\n   - Was distribution simplicity deprioritized?\n\n2. **Acknowledge Trade-offs**\n   - Node.js runtime requirement\n   - Larger binary if bundled\n   - Slower startup time\n   - Distribution complexity (npm vs single binary)\n\n3. **Benefits Realized**\n   - npm ecosystem for UI (chalk, figlet, etc.)\n   - Developer familiarity\n   - Faster iteration for MVP\n   - oclif plugin architecture\n\n4. **Future Considerations**\n   - Would we consider Go rewrite later?\n   - What would trigger reconsidering?\n   - Is there a path to single binary (pkg, bun compile)?\n\n## Deliverables\n- Add \"Tech Stack Decision\" section to PRD\n- Document accepted trade-offs\n- Acknowledge divergence from analysis.md recommendation\n- Close the loop on this decision for future reference","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:28:36.28974-07:00","updated_at":"2025-12-09T14:28:36.28974-07:00","source_repo":".","labels":["decision","documentation"],"dependencies":[{"issue_id":"hyperyolo-9hk","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.488275-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-ad1","content_hash":"025d2cd0646e707ea63971fc90cc25bce1a7361c3325d656e5a0e7d90f4c2eba","title":"Document ANSI Code Handling Strategy","description":"Define strategy for handling ANSI escape codes in CLI output.\n\n## Scope\n\n1. **The Problem**\n   - CLI output contains ANSI codes for colors, cursor movement\n   - Need to parse output for metadata (session ID, stats)\n   - Need to preserve colors for display\n   - ANSI codes break regex matching\n\n2. **Stripping Strategy**\n   - Research Node.js libraries for ANSI stripping (strip-ansi, etc.)\n   - Define when to strip vs preserve\n   - Test stripping doesn't lose important data\n\n3. **Display Strategy**\n   - Pass through ANSI to user terminal\n   - Detect terminal color support\n   - Handle NO_COLOR and FORCE_COLOR env vars\n   - Graceful degradation for non-color terminals\n\n4. **Dual Processing Pattern**\n   - Tee output: one stream for display (with ANSI)\n   - One stream for parsing (stripped)\n   - Ensure both stay in sync\n\n5. **Terminal Capability Detection**\n   - Detect TrueColor support\n   - Detect 256-color support\n   - Detect basic 16-color support\n   - Detect no-color mode\n\n## Deliverables\n- Create docs/architecture/ansi-handling.md\n- Select and document ANSI stripping library\n- Define terminal detection approach\n- Add to adapter interface requirements","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:27:53.268772-07:00","updated_at":"2025-12-09T14:27:53.268772-07:00","source_repo":".","labels":["architecture","documentation"],"dependencies":[{"issue_id":"hyperyolo-ad1","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.38788-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-ar1","content_hash":"35f15e700c73259af7d37a963421d10527a7ab8c435654374a00722af20a7fc2","title":"Resolve Session Storage Decision: JSON vs SQLite","description":"Make final decision on session storage mechanism and document rationale.\n\n## Context\nResearch documents disagree on session storage:\n- Claude research recommended SQLite\n- Gemini research recommended Sled\n- ChatGPT research recommended JSON\n- PRD chose JSON without justification\n- analysis.md synthesis recommended SQLite\n\n## Scope\n\n1. **Evaluate Requirements**\n   - Single user vs multi-user\n   - Concurrent access (multiple terminals)\n   - Query needs (list sessions, filter, cleanup)\n   - Data integrity requirements\n   - Simplicity vs robustness trade-off\n\n2. **JSON File Approach**\n   Pros:\n   - Simple implementation\n   - Human readable/editable\n   - No dependencies\n   Cons:\n   - No concurrent access safety\n   - No query capability\n   - Risk of corruption on crash\n\n3. **SQLite Approach**\n   Pros:\n   - ACID guarantees\n   - Concurrent access handled\n   - Query capability\n   - Mature and reliable\n   Cons:\n   - Additional dependency\n   - Slightly more complex\n   - Binary file (not human readable)\n\n4. **JSON with Locking**\n   Middle ground:\n   - Use proper-lockfile or similar\n   - Atomic writes (write to temp, rename)\n   - Still no query capability\n\n5. **Decision Criteria**\n   - MVP simplicity vs future needs\n   - Likelihood of concurrent access\n   - Session listing/cleanup requirements\n\n## Deliverables\n- Make final decision with clear rationale\n- Update PRD with decision and justification\n- Document chosen implementation approach\n- If JSON: document locking strategy\n- If SQLite: document schema","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-09T14:28:21.275115-07:00","updated_at":"2025-12-09T14:28:21.275115-07:00","source_repo":".","labels":["architecture","decision"],"dependencies":[{"issue_id":"hyperyolo-ar1","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.45613-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-at4","content_hash":"894865abb6757865f3533aa2886ce84ec116dd9e412aa508770d9784a10ddb97","title":"Design Session ID Extraction Strategy","description":"Design robust session ID extraction from CLI output.\n\n## Context\nEach CLI outputs session ID differently and at different times.\nNeed strategy to handle timing and missing IDs.\n\n## Scope\n\n1. **Timing Challenges**\n   - Session ID may appear at start, middle, or end of output\n   - May need to buffer initial output to extract ID before displaying header\n   - What if ID never appears? (error case)\n\n2. **Per-CLI Extraction**\n   Based on verification findings:\n   - Claude: JSON field \"session_id\" in stream-json init event\n   - Codex: Text pattern \"session id: \u003cuuid\u003e\" in startup\n   - Gemini: JSON field in init event {\"type\":\"init\",\"session_id\":\"...\"}\n\n3. **Buffering Strategy**\n   Options:\n   a) Buffer all output until ID found, then display\n   b) Display immediately, parse concurrently, show ID in footer\n   c) Buffer only first N bytes/lines, timeout if not found\n   \n   Trade-offs: latency vs reliable ID display in header\n\n4. **Fallback Handling**\n   If session ID not found:\n   - Generate HyperYOLO-only ID?\n   - Warn user resume won't work?\n   - Fail the operation?\n\n5. **Adapter Interface**\n   Define parseSessionId(chunk: string): string | null\n   - Called incrementally on output chunks\n   - Returns ID when found, null otherwise\n   - May be stateful (accumulating JSON)\n\n## Deliverables\n- Document extraction strategy in architecture docs\n- Define adapter interface for ID extraction\n- Document fallback behavior\n- Create regex/parser for each CLI format","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:29:11.107045-07:00","updated_at":"2025-12-09T14:29:11.107045-07:00","source_repo":".","labels":["architecture","implementation"],"dependencies":[{"issue_id":"hyperyolo-at4","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:29:11.108526-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-at4","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:29:11.108945-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-at4","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:29:11.109259-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-at4","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.555917-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-cud","content_hash":"62568397e22385b3d9e9d1115a183c8302b2efe0a987b4912edbaa983c6965a5","title":"Implement Concurrent Session File Access","description":"Implement safe concurrent access to session storage.\n\n## Context\nUsers may run multiple HyperYOLO instances simultaneously.\nNeed to prevent data corruption.\n\n## Scope (if JSON storage chosen)\n\n1. **File Locking**\n   - Research proper-lockfile, lockfile, fs-ext libraries\n   - Implement read lock for queries\n   - Implement write lock for mutations\n   - Handle stale locks\n\n2. **Atomic Writes**\n   - Write to temp file first\n   - Rename atomically (mv is atomic on same filesystem)\n   - Handle rename failures\n\n3. **Graceful Degradation**\n   - What if lock can't be acquired?\n   - Timeout and retry?\n   - Warn user?\n\n## Scope (if SQLite chosen)\n\n1. **SQLite Concurrency**\n   - SQLite handles this natively\n   - Use WAL mode for better concurrency\n   - Handle SQLITE_BUSY errors\n\n2. **Connection Management**\n   - Single connection per process\n   - Close on process exit\n\n## Deliverables\n- Implement chosen concurrency strategy\n- Add tests for concurrent access\n- Document behavior in architecture docs","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:29:37.568239-07:00","updated_at":"2025-12-09T14:29:37.568239-07:00","source_repo":".","labels":["architecture","implementation"],"dependencies":[{"issue_id":"hyperyolo-cud","depends_on_id":"hyperyolo-ar1","type":"blocks","created_at":"2025-12-09T14:29:37.569899-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-cud","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.624026-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-d94","content_hash":"3dae17b6cf344179e60d751a0f682dc3605456b37c66acce73090628e4c87fe7","title":"Document Process Signal Handling","description":"Define how HyperYOLO handles process signals and graceful shutdown.\n\n## Scope\n\n1. **Signal Forwarding**\n   - Forward SIGINT (Ctrl+C) to child process\n   - Forward SIGTERM for graceful shutdown\n   - Handle SIGWINCH (terminal resize) if needed\n   - Document signal behavior per platform (macOS, Linux)\n\n2. **Graceful Shutdown**\n   - What happens when user presses Ctrl+C?\n   - Should we kill child immediately or wait?\n   - Should we save partial session state?\n   - How long to wait before force kill?\n\n3. **Cleanup on Termination**\n   - Save session mapping even on interrupt\n   - Clean up any temp files\n   - Ensure session.json isn't corrupted\n   - Print partial summary if possible\n\n4. **Abnormal Termination**\n   - Handle SIGKILL (can't catch, but document)\n   - Handle out-of-memory kills\n   - Recovery on next run\n\n5. **Child Process Monitoring**\n   - Detect child process death\n   - Handle zombie processes\n   - Timeout for unresponsive children\n\n## Deliverables\n- Create docs/architecture/signal-handling.md\n- Define signal handling implementation pattern\n- Add to executor requirements\n- Document platform-specific behaviors","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:28:05.822292-07:00","updated_at":"2025-12-09T14:28:05.822292-07:00","source_repo":".","labels":["architecture","documentation"],"dependencies":[{"issue_id":"hyperyolo-d94","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.422618-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-foq","content_hash":"30af5d8235680ca123e727cf2b1bea8cc6ce7eaa4f4954074a34fc74c147367c","title":"Define Adapter Interface Contract","description":"Finalize the BackendAdapter interface based on verification findings.\n\n## Context\nPRD defines a basic interface but gaps were identified:\n- What if parseSessionId returns null?\n- What about parseStats edge cases?\n- How to handle CLI-specific quirks?\n\n## Scope\n\n1. **Interface Definition**\n   Finalize TypeScript interface:\n   ```typescript\n   interface BackendAdapter {\n     name: 'codex' | 'claude' | 'gemini';\n     \n     // Check if CLI is installed and correct version\n     isAvailable(): Promise\u003c{available: boolean; version?: string; error?: string}\u003e;\n     \n     // Build CLI command and args\n     buildCommand(prompt: string, options: ExecutionOptions): {\n       command: string;\n       args: string[];\n       env?: Record\u003cstring, string\u003e;\n     };\n     \n     // Parse session ID from output chunk (may be called multiple times)\n     parseSessionId(chunk: string, accumulated: string): string | null;\n     \n     // Parse completion stats from final output\n     parseStats(output: string): ExecutionStats | null;\n     \n     // Get expected session ID format (for validation)\n     sessionIdPattern: RegExp;\n   }\n   ```\n\n2. **Edge Case Handling**\n   - Define behavior when parseSessionId always returns null\n   - Define behavior when parseStats returns null\n   - Define behavior when isAvailable returns error\n\n3. **CLI-Specific Quirks**\n   - Codex: resume-after-prompt syntax\n   - Claude: flags-before-prompt syntax\n   - Gemini: tool authorization limitations\n\n4. **Testing Contract**\n   - Define mock adapters for testing\n   - Define integration test requirements\n\n## Deliverables\n- Create src/adapters/types.ts with final interface\n- Document interface contract in architecture docs\n- Create example mock adapter for tests\n- Update CLAUDE.md with interface details","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:29:52.881097-07:00","updated_at":"2025-12-09T14:29:52.881097-07:00","source_repo":".","labels":["architecture","implementation"],"dependencies":[{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:29:52.882625-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:29:52.883036-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:29:52.8834-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-at4","type":"blocks","created_at":"2025-12-09T14:29:52.88374-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-uix","type":"blocks","created_at":"2025-12-09T14:29:52.88409-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-foq","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.657769-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-fu3","content_hash":"b96910d4beb96f37d5dce0420881cb1e06830c1e2bfe942f4209e45342fe905d","title":"Verify Model Names and Defaults","description":"Verify and document correct model names for each CLI.\n\n## Context\nPRD mentions 'gpt-5.1-codex-max' which may not exist or may be renamed.\nNeed to verify actual model names and defaults.\n\n## Scope\n\n1. **Claude Code Models**\n   - What is the default model?\n   - What models are available?\n   - How to specify model (flag name)?\n   - Is there a 'max' tier model?\n\n2. **Codex CLI Models**\n   - What is the default model?\n   - Does 'gpt-5.1-codex-max' exist?\n   - How to specify model?\n   - What's the highest tier available?\n\n3. **Gemini CLI Models**\n   - What is the default model?\n   - What models are available (gemini-2.5-pro, etc.)?\n   - How to specify model?\n   - What's the highest tier available?\n\n4. **Model Selection Strategy**\n   - Should HyperYOLO specify model explicitly?\n   - Or rely on CLI defaults?\n   - How to handle model not found errors?\n\n## Deliverables\n- Update PRD with correct model names\n- Document model selection in each adapter\n- Create model fallback strategy\n- Add model info to CLI compatibility matrix","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:30:07.812548-07:00","updated_at":"2025-12-09T14:30:07.812548-07:00","source_repo":".","labels":["cli","research"],"dependencies":[{"issue_id":"hyperyolo-fu3","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:30:07.814575-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-fu3","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:30:07.815042-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-fu3","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:30:07.815382-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-fu3","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.693007-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-p13","content_hash":"2c0d7fac16096e36e054a2483b9b2f05795b96eb4bd0807e9900d27d9c85f1a7","title":"Document Error Handling Strategy","description":"Define comprehensive error handling strategy for all failure modes.\n\n## Scope\nCreate error taxonomy and handling patterns for:\n\n1. **CLI Binary Errors**\n   - Binary not found (ENOENT)\n   - Binary not executable (EACCES)\n   - Wrong architecture/platform\n\n2. **Authentication Errors**\n   - Invalid API key\n   - Expired token\n   - Missing credentials\n   - Rate limiting\n\n3. **Session Errors**\n   - Session ID not found\n   - Session expired\n   - Session corrupted\n   - Native CLI session mismatch\n\n4. **Process Errors**\n   - Subprocess timeout\n   - Subprocess crash (non-zero exit)\n   - Subprocess hang (known Claude bug)\n   - Signal interruption (SIGINT, SIGTERM)\n\n5. **Output Parsing Errors**\n   - Malformed JSON\n   - Missing expected fields\n   - Session ID not found in output\n   - Unexpected output format\n\n6. **Network Errors**\n   - Connection timeout\n   - DNS resolution failure\n   - SSL/TLS errors\n\n7. **File System Errors**\n   - Config directory not writable\n   - Session file corruption\n   - Disk full\n\n## Deliverables\n- Create docs/architecture/error-handling.md\n- Define error type hierarchy (TypeScript types)\n- Define user-facing error messages for each type\n- Define recovery strategies where applicable\n- Add error handling section to PRD","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:27:27.964151-07:00","updated_at":"2025-12-09T14:27:27.964151-07:00","source_repo":".","labels":["architecture","documentation"],"dependencies":[{"issue_id":"hyperyolo-p13","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.317505-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-pz1","content_hash":"049252398c8b60e517b62d9b9c16c97cfb05a249a21616cc952f376cdc3184e0","title":"Create Integration Test Strategy","description":"Design integration testing strategy for HyperYOLO.\n\n## Context\nTesting requires either:\n- Mock CLIs that output known patterns\n- Real CLI integration tests (slow, requires auth)\n- Combination of both\n\n## Scope\n\n1. **Unit Testing (Adapters)**\n   - Test argument building\n   - Test output parsing with sample data\n   - Test session ID extraction\n   - No actual CLI needed\n\n2. **Mock CLI Strategy**\n   Create mock executables that:\n   - Output known session IDs\n   - Output known JSON events\n   - Simulate delays\n   - Simulate errors\n   - Can be controlled via env vars or args\n\n3. **Integration Tests**\n   - Test against real CLIs (CI-gated, optional)\n   - Require auth setup\n   - May incur API costs\n   - Run less frequently\n\n4. **Test Data**\n   Capture real CLI output samples:\n   - Successful run output\n   - Error output\n   - Various JSON event types\n   - Session resume scenarios\n\n5. **CI/CD Considerations**\n   - Unit tests always run\n   - Mock CLI tests always run\n   - Real CLI tests optional (manual trigger or nightly)\n   - Secret management for API keys\n\n## Deliverables\n- Document testing strategy\n- Create mock CLI specifications\n- Capture sample outputs from verification\n- Set up test directory structure","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:31:24.239855-07:00","updated_at":"2025-12-09T14:31:24.239855-07:00","source_repo":".","labels":["architecture","testing"],"dependencies":[{"issue_id":"hyperyolo-pz1","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:31:24.241481-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-pz1","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:31:24.241911-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-pz1","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:31:24.242237-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-pz1","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.901711-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-q1c","content_hash":"c87faf90ae9acee2ab247abe23f6c907a29525fb02a8e038dea4f73ab1b2ba33","title":"Document Known Limitations Section","description":"Add Known Limitations section to PRD based on verification findings.\n\n## Scope\nAfter CLI verification, document limitations for each backend:\n\n1. **Per-Backend Limitations**\n   For each CLI, document:\n   - Features that don't work in headless mode\n   - Tool authorization limitations\n   - Session resume limitations\n   - Output format limitations\n   - Model availability limitations\n\n2. **HyperYOLO Limitations**\n   - What underlying CLI features are NOT exposed\n   - Platform limitations (macOS/Linux only)\n   - Concurrent usage limitations\n   - Session lifespan limitations\n\n3. **Workaround Documentation**\n   For each limitation:\n   - Is there a workaround?\n   - Is it planned for future?\n   - Should user use CLI directly instead?\n\n## Deliverables\n- Add 'Known Limitations' section to PRD\n- Per-backend limitation lists\n- User-facing limitation documentation in README","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:30:43.289735-07:00","updated_at":"2025-12-09T14:30:43.289735-07:00","source_repo":".","labels":["documentation"],"dependencies":[{"issue_id":"hyperyolo-q1c","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:30:43.291249-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-q1c","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:30:43.291727-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-q1c","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:30:43.292077-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-q1c","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.796744-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-q9n","content_hash":"f136040b59a3dc8b4d38d0591ed971f0beb585be6b099523e99f3f683a826bbc","title":"Evaluate oclif vs Commander for MVP","description":"Evaluate whether oclif complexity is worth it for MVP.\n\n## Context\nChatGPT research recommends oclif for plugin architecture.\nBut for MVP, Commander might be simpler and faster.\n\n## Scope\n\n1. **oclif Pros/Cons**\n   Pros:\n   - Built-in plugin system\n   - TypeScript native\n   - Auto-generated help\n   - Used by Heroku, Salesforce\n   Cons:\n   - More boilerplate\n   - Steeper learning curve\n   - Heavier dependency tree\n\n2. **Commander Pros/Cons**\n   Pros:\n   - Simpler API\n   - Lighter weight\n   - Faster to get started\n   - Well documented\n   Cons:\n   - No built-in plugin system\n   - Manual work for advanced features\n\n3. **MVP Requirements Check**\n   Do we need plugins for MVP? No.\n   Do we need auto-generated help? Nice but not critical.\n   Do we need TypeScript? Both support it.\n\n4. **Decision Criteria**\n   - Time to MVP\n   - Future extensibility\n   - Maintenance burden\n   - Developer familiarity\n\n## Deliverables\n- Make recommendation with justification\n- If Commander: document plugin story for future\n- Update PRD with final decision\n- Estimate time savings (if any)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T14:30:56.288523-07:00","updated_at":"2025-12-09T14:30:56.288523-07:00","source_repo":".","labels":["decision","research"],"dependencies":[{"issue_id":"hyperyolo-q9n","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.831248-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-ras","content_hash":"ae810638f372ec1a044e6ee7ac0e6233d78b0fdb8ee5bb00f65bf6d611f29423","title":"CLI Version Compatibility Matrix","description":"Create and maintain a version compatibility matrix for all supported CLIs.\n\n## Scope\nAfter CLI verification tasks are complete, establish version management strategy:\n\n1. **Version Detection**\n   - Document how to detect installed version of each CLI\n   - Create version parsing logic for each CLI's version output\n   - Define minimum supported version for each CLI\n\n2. **Compatibility Matrix**\n   Create a matrix documenting:\n   | CLI | Min Version | Max Tested | Breaking Changes | Notes |\n   |-----|-------------|------------|------------------|-------|\n   | Claude | x.y.z | a.b.c | list | notes |\n   | Codex | x.y.z | a.b.c | list | notes |\n   | Gemini | x.y.z | a.b.c | list | notes |\n\n3. **Breaking Change Documentation**\n   For each CLI, document known breaking changes:\n   - Flag renames or removals\n   - Output format changes\n   - Session storage format changes\n   - Authentication changes\n\n4. **Version Warning System**\n   Design a system to:\n   - Check CLI version on HyperYOLO startup\n   - Warn if version is outside tested range\n   - Provide guidance for version mismatches\n   - Optionally block execution for known-broken versions\n\n5. **Update Monitoring Strategy**\n   - Subscribe to release notifications for each CLI\n   - Define process for testing new CLI versions\n   - Create checklist for version bump verification\n\n## Deliverables\n- Create docs/cli-compatibility.md with full matrix\n- Define version check implementation in adapters\n- Create CHANGELOG-style document for CLI version impacts\n- Add version requirements to README","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:27:09.811282-07:00","updated_at":"2025-12-09T14:27:09.811282-07:00","source_repo":".","labels":["cli","research","versioning"],"dependencies":[{"issue_id":"hyperyolo-ras","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:27:09.812868-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-ras","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:27:09.813294-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-ras","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:27:09.81364-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-ras","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.284265-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-uix","content_hash":"2c49d660b96f62d768134aebc764b54ca79e6ef6d0cbececb945d3ff612670aa","title":"Document Output Format Selection Logic","description":"Define when and how to select output formats for each CLI.\n\n## Scope\nBased on CLI verification findings, document:\n\n1. **Format Selection Per CLI**\n   - When to use `json` vs `stream-json` vs plain text\n   - Trade-offs of each format\n   - Parsing complexity differences\n\n2. **Fallback Strategy**\n   - What if CLI doesn't support requested format?\n   - How to detect format support (version check? trial run?)\n   - Graceful degradation path\n\n3. **Format Detection**\n   - How to detect if output is JSON vs plain text\n   - How to handle mixed output (JSON events + plain text)\n   - ANSI code handling in each format\n\n4. **Parsing Requirements**\n   For each format, document:\n   - Session ID extraction method\n   - Stats extraction (tokens, cost, duration)\n   - Error detection\n   - Completion detection\n\n## Deliverables\n- Create docs/architecture/output-formats.md\n- Define format selection algorithm\n- Create parsing strategy per CLI per format\n- Update adapter interface if needed","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:27:40.185559-07:00","updated_at":"2025-12-09T14:27:40.185559-07:00","source_repo":".","labels":["architecture","documentation"],"dependencies":[{"issue_id":"hyperyolo-uix","depends_on_id":"hyperyolo-60t","type":"blocks","created_at":"2025-12-09T14:27:40.187059-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-uix","depends_on_id":"hyperyolo-z7m","type":"blocks","created_at":"2025-12-09T14:27:40.187483-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-uix","depends_on_id":"hyperyolo-0x0","type":"blocks","created_at":"2025-12-09T14:27:40.187842-07:00","created_by":"daemon"},{"issue_id":"hyperyolo-uix","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.353318-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-vny","content_hash":"a35b5ba91f825ed1b53e98695d603d36e6f91e0b9c3b202fe0f7b8cd48795c94","title":"Create CLI Verification Documentation Structure","description":"Create the documentation structure to capture CLI verification results.\n\n## Scope\nSet up documentation files for verification task outputs:\n\n1. **Directory Structure**\n   ```\n   docs/\n   └── research/\n       └── cli-verification/\n           ├── README.md           # Overview and methodology\n           ├── claude.md           # Claude Code findings\n           ├── codex.md            # Codex CLI findings\n           ├── gemini.md           # Gemini CLI findings\n           └── schemas/\n               ├── claude-stream-json.schema.json\n               ├── codex-output.schema.json\n               └── gemini-stream-json.schema.json\n   ```\n\n2. **Template for Each CLI Doc**\n   - Version tested\n   - Installation method\n   - All available commands/flags\n   - Session management details\n   - Output format schemas\n   - YOLO mode verification\n   - Known issues and limitations\n   - Regex patterns for parsing\n\n3. **Compatibility Matrix Location**\n   - Create docs/cli-compatibility.md placeholder\n\n## Deliverables\n- Create directory structure\n- Create template files\n- Update docs/README.md if it exists to reference new docs","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:30:20.175098-07:00","updated_at":"2025-12-09T14:30:20.175098-07:00","source_repo":".","labels":["documentation"],"dependencies":[{"issue_id":"hyperyolo-vny","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.728344-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-z7m","content_hash":"a00d8b951d0549a994bd42ec52b5d001d52f5849786266ea5f74a96822c8bb60","title":"Deep CLI Verification: Codex CLI","description":"Exhaustive verification of Codex CLI behavior, output formats, and session management.\n\n## Scope\nPerform comprehensive analysis of Codex CLI by:\n\n1. **Source Code Analysis**\n   - Locate Codex CLI source repository (confirm it's Rust-based per research)\n   - Read source code to understand session management\n   - Document internal session storage format (~/.codex/sessions/*.jsonl)\n   - Identify command structure and subcommand hierarchy\n\n2. **CLI Manual Review**\n   - Run `codex --help` and document all commands\n   - Run `codex exec --help` specifically\n   - Verify the unusual syntax: `codex exec \"prompt\" resume \u003cid\u003e`\n   - Document `--yolo` flag behavior\n   - Test `codex --version`\n\n3. **Output Format Testing**\n   - Test default output format (research says it streams by default)\n   - Test `--json` flag if it exists\n   - Capture exact session ID output format (research says \"session id: \u003cuuid\u003e\")\n   - Identify JSONL event types if structured output exists\n\n4. **Session Resume Verification**\n   - Verify the `resume \u003cid\u003e` syntax goes AFTER the prompt\n   - Test resume with valid session\n   - Test resume with invalid session (capture error)\n   - Verify session file format in ~/.codex/sessions/\n\n5. **YOLO Mode Verification**\n   - Test `--yolo` actually auto-approves all tool calls\n   - Document any remaining prompts or confirmations\n   - Test with potentially dangerous operations\n\n6. **Critical Flags**\n   - Test `--skip-git-repo-check` (research says Codex requires git repo by default)\n   - Test `--model` flag and available models\n   - Test `-c key=value` config overrides\n   - Test `-c experimental_instructions_file` for system prompts\n\n7. **Edge Cases**\n   - Test behavior with no TTY (research says it can panic)\n   - Verify `codex exec --json` prevents non-TTY panic\n   - Test without git repository\n   - Test with invalid API key/auth\n\n## Deliverables\n- Update docs/research/cli-verification/codex.md with all findings\n- Confirm or correct the research assumptions about Codex\n- Document exact command syntax (the resume-after-prompt quirk)\n- Create session file schema documentation","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-09T14:26:35.473453-07:00","updated_at":"2025-12-09T15:11:45.75022-07:00","closed_at":"2025-12-09T15:11:45.75022-07:00","source_repo":".","labels":["blocking","cli","codex","deep-research","pre-implementation","research","source-code-review","verification"],"dependencies":[{"issue_id":"hyperyolo-z7m","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.215845-07:00","created_by":"daemon"}]}
{"id":"hyperyolo-zfn","content_hash":"4c25c57bb1fc52a7f0159de000720de02c49ee2361ba57175808f44b593ce002","title":"Research execa Streaming Best Practices","description":"Research Node.js subprocess streaming patterns using execa.\n\n## Scope\n\n1. **execa Streaming API**\n   - Read execa documentation thoroughly\n   - Understand subprocess.stdout stream\n   - Understand piping and tee patterns\n   - Understand backpressure handling\n\n2. **Tee Pattern Implementation**\n   - How to split stream: one for display, one for parsing\n   - Avoid blocking display while parsing\n   - Handle backpressure correctly\n   - Ensure order is preserved\n\n3. **Real-time Output**\n   - Ensure minimal latency from subprocess to user\n   - Handle partial lines correctly\n   - Handle different line endings (\\n, \\r\\n, \\r)\n\n4. **Error Stream Handling**\n   - How to handle stderr\n   - Merge with stdout or keep separate?\n   - Style stderr differently?\n\n5. **Alternatives to execa**\n   - child_process.spawn (native)\n   - Better alternatives?\n   - When would we need lower-level control?\n\n6. **Code Examples**\n   Find or create examples for:\n   - Streaming output while parsing\n   - Timeout handling\n   - Signal forwarding\n   - Clean shutdown\n\n## Deliverables\n- Create docs/research/execa-patterns.md\n- Include code snippets for key patterns\n- Document gotchas and edge cases\n- Recommend implementation approach","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T14:29:23.865422-07:00","updated_at":"2025-12-09T14:29:23.865422-07:00","source_repo":".","labels":["implementation","research"],"dependencies":[{"issue_id":"hyperyolo-zfn","depends_on_id":"hyperyolo-2up","type":"parent-child","created_at":"2025-12-09T14:32:06.590787-07:00","created_by":"daemon"}]}
